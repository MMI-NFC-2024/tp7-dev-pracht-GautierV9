---
import Layout from "../../layouts/Layout.astro";
import "leaflet/dist/leaflet.css";
import Menu from "../../components/menu.astro"
---

<Layout>
     <Menu> </Menu>
     <div id="map" style="height: 100%;"></div>

<script>
  import listeEtablissements from "../../assets/listeEtablissements.json";
  import L from "leaflet";

  const map = L.map("map").setView([46.6033, 1.883], 6);

  L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
    maxZoom: 19,
    attribution:
      '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
  }).addTo(map);

  listeEtablissements.forEach((e) => {
    let marker = L.marker([e.lat, e.lon]).addTo(map);
  });
</script>
</Layout>